<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate='~{layouts/layout}'>

<!--사용자 css 추가-->
<th:block layout:fragment="css">
  <style>

  </style>
</th:block>

<th:block layout:fragment="script">
  <script th:inline="javascript">
    $(document).ready(
        function() {
          const result = '<c:out value="${result}"/>';

          if (result === '') {
            return;
          }

          $("#regBtn").on("click", function () {
            self.location = "/todo/register";
          })
        });
  </script>
</th:block>

<div layout:fragment="content" class="content">
  <div class="row">
    <div class="col-lg-12">
      <div class="panel panel-default">
        <div class="panel-heading">
          Todo List
          <button id="regBtn" type="button"
                  class="btn-primary pull-right btn-xs btn">New
          </button>
        </div>

        <div class="panel-body">
          <!--table-hover-->
          <table class="table table-hover">
            <thead>
            <tr>
              <th>Tno</th>
              <th>Title</th>
              <th>Writer</th>
              <th>DueDate</th>
              <th>Finished</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="todo, status: ${todos}">
              <th th:text="${todo.tno}"></th>
              <td><a th:href="'/todo/' + ${todo.tno}" th:text="${todo.title}"></a></td>
              <td th:text="${todo.writer}"></td>
              <td th:text="${todo.dueDate}"></td>
              <td th:text="${todo.finished}"></td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>